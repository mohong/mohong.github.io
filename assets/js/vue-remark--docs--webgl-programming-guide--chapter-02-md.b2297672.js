(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"3ksX":function(t,s,a){"use strict";a.r(s);var n=a("KHd+"),e=a("UQSp"),r=a("Kw5r");function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.a.config.optionMergeStrategies;var o={VueRemarkRoot:e.a},v=function(t){var s=t.options.components=t.options.components||{},a=t.options.computed=t.options.computed||{};Object.keys(o).forEach((function(t){"object"===p(o[t])&&"function"==typeof o[t].render||"function"==typeof o[t]&&"function"==typeof o[t].options.render?s[t]=o[t]:a[t]=function(){return o[t]}}))},c=r.a.config.optionMergeStrategies,_="__vueRemarkFrontMatter",l={excerpt:null,title:"WebGL入门"};var i=function(t){t.options[_]&&(t.options[_]=l),r.a.util.defineReactive(t.options,_,l),t.options.computed=c.computed({$frontmatter:function(){return t.options[_]}},t.options.computed)},u=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("VueRemarkRoot",[n("h1",{attrs:{id:"webgl入门"}},[n("a",{attrs:{href:"#webgl%E5%85%A5%E9%97%A8","aria-hidden":"true"}},[t._v("#")]),t._v("WebGL入门")]),n("h2",{attrs:{id:"canvas是什么"}},[n("a",{attrs:{href:"#canvas%E6%98%AF%E4%BB%80%E4%B9%88","aria-hidden":"true"}},[t._v("#")]),t._v("Canvas是什么")]),n("h2",{attrs:{id:"最短的webgl程序清空绘图区"}},[n("a",{attrs:{href:"#%E6%9C%80%E7%9F%AD%E7%9A%84webgl%E7%A8%8B%E5%BA%8F%E6%B8%85%E7%A9%BA%E7%BB%98%E5%9B%BE%E5%8C%BA","aria-hidden":"true"}},[t._v("#")]),t._v("最短的WebGL程序：清空绘图区")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",{pre:!0,attrs:{class:"language-js"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" canvas "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webgl'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebGLContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定绘图区域的背景颜色")]),t._v("\n    gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("clearColor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将指定缓冲区设定为预定的值，如果清空的是颜色缓冲区，那么将使用gl.clearColor()指定的值作为预设值。")]),t._v("\n    gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("clear")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COLOR_BUFFER_BIT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),n("p",[n("code",{pre:!0},[t._v("gl.clearColor(red, green, blue, alpha)")])]),n("p",[t._v("指定绘图区域的背景色：所有参赛的值均为[0.0, 1.0]。")]),n("p",[t._v("清空绘图区域，实际上是在清空颜色缓冲区（color buffer）。")]),n("p",[n("code",{pre:!0},[t._v("gl.clear(buffer)")])]),n("p",[t._v("将指定缓冲区设定为预定的值。如果清空的是颜色缓冲区，那么将使用gl.clearColor()指定的值（作为预定值）。")]),n("p",[t._v("参数：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("说明")]),n("th",[t._v("可选值")])])]),n("tbody",[n("tr",[n("td",[t._v("buffer")]),n("td",[t._v("指定待清空的缓冲区，位操作符OR(|)可用来指定多个缓冲区")]),n("td",[t._v("gl.COLOR_BUFFER_BIT：指定颜色缓存；gl.DEPTH_BUFFER_BIT：指定深度缓冲区；gl.STENCIL_BUFFER_BIT：指定模板缓冲区；")])])])]),n("p",[t._v("返回值：无")]),n("h2",{attrs:{id:"绘制一个点版本1"}},[n("a",{attrs:{href:"#%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E7%82%B9%E7%89%88%E6%9C%AC1","aria-hidden":"true"}},[t._v("#")]),t._v("绘制一个点（版本1）")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",{pre:!0,attrs:{class:"language-js"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 顶点着色器")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSHADER_SOURCE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'void main() {\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' gl_Position = vec4(0.5, 0.5, 0.0, 1.0);\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置坐标")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' gl_PointSize = 10.0;\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置尺寸")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'}\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 片源着色器")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FSHADER_SOUCE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'void main() {\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置颜色")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'}\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" canvas "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webgl'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebGLContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化着色器")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initShaders")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSHADER_SOURCE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FSHADER_SOUCE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("return")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定绘图区域的背景颜色")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("clearColor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将指定缓冲区设定为预定的值，如果清空的是颜色缓冲区，那么将使用gl.clearColor()指定的值作为预设值。")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("clear")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COLOR_BUFFER_BIT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绘制一个点")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("drawArrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POINTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),n("h3",{attrs:{id:"着色器是什么"}},[n("a",{attrs:{href:"#%E7%9D%80%E8%89%B2%E5%99%A8%E6%98%AF%E4%BB%80%E4%B9%88","aria-hidden":"true"}},[t._v("#")]),t._v("着色器是什么")]),n("p",[t._v("webgl需要两种着色器：")]),n("ul",[n("li",[n("strong",[t._v("顶点着色器")]),t._v("（Vertex shader）：顶点着色器是用来描述顶点特性（如位置、颜色等）的程序。"),n("strong",[t._v("顶点")]),t._v("（vertex）是指二维或三维空间中的一个点。")]),n("li",[n("strong",[t._v("片元着色器")]),t._v("（Fragment shader）：进行逐片元处理过程如光照的程序。"),n("strong",[t._v("片元")]),t._v("（fragment）是一个webgl术语，你可以将其理解为像素（图像的单元）。")])]),n("p",[t._v("从执行JavaScript程序到在浏览器中显示结果的过程：")]),n("img",{staticStyle:{zoom:"50%"},attrs:{src:a("muQO"),alt:"image-20210716142856354"}}),n("p",[n("strong",[t._v("GLSE中的数据类型")])]),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),n("th",[t._v("描述")])])]),n("tbody",[n("tr",[n("td",[t._v("float")]),n("td",[t._v("表示浮点数")])]),n("tr",[n("td",[t._v("vec4")]),n("td",[t._v("表示由四个浮点数组成的矢量，(float, float, float, float)")])])])]),n("p",[n("strong",[t._v("顶点着色器的内置变量")])]),n("table",[n("thead",[n("tr",[n("th",[t._v("类型和变量名")]),n("th",[t._v("描述")])])]),n("tbody",[n("tr",[n("td",[t._v("vec4 gl_Position")]),n("td",[t._v("表示顶点位置，必须被赋值，否则着色器无法正常工作")])]),n("tr",[n("td",[t._v("vec4 gl_PointSize")]),n("td",[t._v("表示点的尺寸（像素数）")])])])]),n("p",[n("strong",[t._v("片元着色器的内置变量")])]),n("table",[n("thead",[n("tr",[n("th",[t._v("类型和变量名")]),n("th",[t._v("描述")])])]),n("tbody",[n("tr",[n("td",[t._v("vec4 gl_FragColor")]),n("td",[t._v("指定片元颜色（RGBA格式）")])])])]),n("p",[n("strong",[t._v("齐次坐标")])]),n("p",[t._v("由4个分量做成的矢量被称为齐次坐标。")]),n("p",[n("code",{pre:!0},[t._v("gl.drawArrays(mode, first, count)")])]),n("p",[t._v("执行顶点着色器，按照mode参数指定的方式绘制图形。")]),n("p",[t._v("参数：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("类型")]),n("th",[t._v("说明")]),n("th",[t._v("可选值")])])]),n("tbody",[n("tr",[n("td",[t._v("mode")]),n("td"),n("td",[t._v("指定绘制的方式")]),n("td",[t._v("gl.POINTS，gl.LINES，gl.LINE_STRIP，gl.LINE_LOOP，gl.TRIANGLES，gl.TRIANGLE_STRIP，gl.TRIANGLE_FAN")])]),n("tr",[n("td",[t._v("first")]),n("td",[t._v("整型")]),n("td",[t._v("指定从哪个顶点开始绘制")]),n("td")]),n("tr",[n("td",[t._v("count")]),n("td",[t._v("整型")]),n("td",[t._v("指定绘制需要用到多少个顶点")]),n("td")])])]),n("h3",{attrs:{id:"webgl坐标系统"}},[n("a",{attrs:{href:"#webgl%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BB%9F","aria-hidden":"true"}},[t._v("#")]),t._v("WebGL坐标系统")]),n("p",[t._v("通常，在WebGL中，当你面向计算机屏幕时，X轴是水平的（正方形为右），Y轴是垂直的（正方向为下），而Z轴垂直于屏幕（正方向为外）。符合右手坐标系。")]),n("img",{staticStyle:{zoom:"50%"},attrs:{src:a("IqEh"),alt:"image-20210716151411732"}}),n("p",[t._v("webgl坐标与"),n("code",{pre:!0},[t._v("<canvas>")]),t._v("坐标的对应关系如下：")]),n("ul",[n("li",[t._v("canvas的中心点：(0.0, 0.0, 0.0)")]),n("li",[t._v("canvas的上边缘和下边缘：（-1.0, 0.0, 0.0）和（1.0, 0.0, 0.0）")]),n("li",[t._v("canvas的左边缘和右边缘：（0.0, -1.0, 0.0）和（0.0, 1.0, 0.0）")])]),n("img",{staticStyle:{zoom:"50%"},attrs:{src:a("PJrX"),alt:"image-20210716151832132"}}),n("h2",{attrs:{id:"绘制一个点版本2"}},[n("a",{attrs:{href:"#%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E7%82%B9%E7%89%88%E6%9C%AC2","aria-hidden":"true"}},[t._v("#")]),t._v("绘制一个点（版本2）")]),n("p",[t._v("这个版本实现了从JavaScript中传输顶点的位置坐标到顶点着色器中：")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",{pre:!0,attrs:{class:"language-js"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 顶点着色器")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSHADER_SOURCE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'attribute vec4 a_Position;\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'attribute float a_PointSize;\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'void main() {\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' gl_Position = a_Position;\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置坐标")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' gl_PointSize = a_PointSize;\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置尺寸")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'}\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 片源着色器")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FSHADER_SOUCE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'void main() {\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\\n'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置颜色")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'}\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" canvas "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token dom variable"}},[t._v("document")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webgl'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebGLContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化着色器")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initShaders")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSHADER_SOURCE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FSHADER_SOUCE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[t._v("return")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取attribute变量的存储位置")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a_Position "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getAttribLocation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("program")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a_Position'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a_PointSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getAttribLocation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("program")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a_PointSize'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将顶点位置传输给attribute变量")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("vertexAttrib3f")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a_Position"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("vertexAttrib1f")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a_PointSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定绘图区域的背景颜色")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("clearColor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将指定缓冲区设定为预定的值，如果清空的是颜色缓冲区，那么将使用gl.clearColor()指定的值作为预设值。")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("clear")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COLOR_BUFFER_BIT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绘制一个点")]),t._v("\n  gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("drawArrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POINTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),n("p",[n("code",{pre:!0},[t._v("gl.getAttribLocation(program, name)")])]),n("p",[t._v("获取由name参数指定的attribute变量的存储地址。")]),n("p",[t._v("参数：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("说明")])])]),n("tbody",[n("tr",[n("td",[t._v("program")]),n("td",[t._v("指定包含顶点着色器和片元着色器的着色器程序对象")])]),n("tr",[n("td",[t._v("name")]),n("td",[t._v("指定想要获取其存储地址的attribute变量的名称")])])])]),n("p",[t._v("返回值：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("返回值")]),n("th",[t._v("说明")])])]),n("tbody",[n("tr",[n("td",[t._v("大于等于0")]),n("td",[t._v("attribute变量的存储地址")])]),n("tr",[n("td",[t._v("-1")]),n("td",[t._v("指定的attribute变量不存在，或者其命名具有"),n("code",{pre:!0},[t._v("gl_")]),t._v("或者"),n("code",{pre:!0},[t._v("webgl_")]),t._v("前缀")])])])]),n("p",[n("code",{pre:!0},[t._v("gl.vertexAttrib3f(location, v0, v1, v2)")])]),n("p",[t._v("将数据（v0, v1, v2）传给由location参赛指定的attribute变量。")]),n("p",[n("strong",[t._v("参数")]),t._v("：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("说明")])])]),n("tbody",[n("tr",[n("td",[t._v("location")]),n("td",[t._v("指定将要修改的attribute变量的存储位置，即"),n("code",{pre:!0},[t._v("gl.getAttribLocation")]),t._v("返回的值")])]),n("tr",[n("td",[t._v("v0")]),n("td",[t._v("指定填充attribute变量的第一个分量的值，浮点型")])]),n("tr",[n("td",[t._v("v1")]),n("td",[t._v("指定填充attribute变量的第二个分量的值，浮点型")])]),n("tr",[n("td",[t._v("v2")]),n("td",[t._v("指定填充attribute变量的第三个分量的值，浮点型")])])])]),n("p",[n("strong",[t._v("返回值")]),t._v("：无")]),n("p",[n("strong",[t._v("同族函数")]),t._v("：")]),n("ul",[n("li",[n("code",{pre:!0},[t._v("gl.vertexAttrib1f(location, v0)")])]),n("li",[n("code",{pre:!0},[t._v("gl.vertexAttrib2f(location, v0, v1)")])]),n("li",[n("code",{pre:!0},[t._v("gl.vertexAttrib3f(location, v0, v1, v2)")])]),n("li",[n("code",{pre:!0},[t._v("gl.vertexAttrib4f(location, v0, v1, v2, v3)")])])]),n("p",[t._v("该系列函数的任务就是从JavaScript向顶点着色器中的attribute变量传值。未设置的值，第四个会被填充为1.0，其他的会被填充为0.0。")]),n("p",[t._v("也可以使用这些方法的矢量版本，它们的名字以“v”（vertor）结尾，并接受类型化数组作为参数，函数名中的数字表示数组中的元素个数。比如：")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",{pre:!0,attrs:{class:"language-js"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" position "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Float32Array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("vertexAttrib4fv")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a_Position"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" position"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),n("p",[n("strong",[t._v("WebGL相关函数的命名规范")])]),n("img",{staticStyle:{zoom:"50%"},attrs:{src:a("szRM"),alt:"image-20210716175857989"}}),n("h2",{attrs:{id:"通过鼠标点击绘点"}},[n("a",{attrs:{href:"#%E9%80%9A%E8%BF%87%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%BB%98%E7%82%B9","aria-hidden":"true"}},[t._v("#")]),t._v("通过鼠标点击绘点")]),n("p",[n("strong",[t._v("客户端坐标转换为webgl坐标")])]),n("p",[t._v("浏览器客户区中的坐标与canva中的坐标")]),n("img",{staticStyle:{},attrs:{src:a("8e2y"),alt:"image-20210719133653444"}}),n("p",[t._v("canvas的坐标系统和webgl中的坐标系统")]),n("img",{attrs:{src:a("m0VG"),alt:"image-20210719133935778"}}),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",{pre:!0,attrs:{class:"language-js"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 鼠标点击位置的坐标")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" x "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("clientX")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" y "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("clientY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rect "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token method function property-access"}},[t._v("getBoundingClientRect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nx "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" rect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("left")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" canvas"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("width")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("width")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ny "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("height")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" rect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("top")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token property-access"}},[t._v("height")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),n("ul",[n("li",[t._v("rect.left和rect.top是canvas的原点在浏览器客户区中的坐标；")]),n("li",[t._v("这样（x-rect.left）和（x-rect.top）就可以将客户区坐标系下的坐标（x，y）转换伟canvas坐标系下的坐标了")]),n("li",[t._v("接下来将canvas坐标系下的坐标转换到webgl坐标系中，通过（canvas.height /2）和（canvas.width/2）求出canvas的中心点")]),n("li",[t._v("使用（x - rect.left) - canvas.width / 2）和（canvas.height / 2 - (y - rect.top)）将canva的圆点平移到中心点（webgl坐标系统的原点位于此处）")]),n("li",[t._v("因为webgl中轴的坐标区间为[-1, 1]，所以最后一步需要将x坐标除以（canvas.width/2），y坐标除以（canvas.height/2）")])]),n("h2",{attrs:{id:"改变点的颜色"}},[n("a",{attrs:{href:"#%E6%94%B9%E5%8F%98%E7%82%B9%E7%9A%84%E9%A2%9C%E8%89%B2","aria-hidden":"true"}},[t._v("#")]),t._v("改变点的颜色")]),n("p",[t._v("只有顶点着色器才能使用attribute变量，使用片元着色器时，就需要使用uniform变量。或者varying变量。")]),n("p",[t._v("uniform变量用来从JavaScript程序向顶点着色器和片元着色器传输“一致的”（不变的）数据。")]),n("p",[t._v("uniform变量的声明")]),n("p",[n("g-image",{attrs:{src:a("bWZv"),alt:"image-20210719143521117"}})],1),n("p",[t._v("在GLSL ES中，你只能指定float类型的attribute变量，但是却可以指定任意类型的uniform变量。")]),n("p",[n("code",{pre:!0},[t._v("gl.getUniformLocation(program, name)")])]),n("p",[t._v("获取指定名称的uniform变量的存储位置")]),n("p",[n("strong",[t._v("参数")]),t._v("：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("说明")])])]),n("tbody",[n("tr",[n("td",[t._v("program")]),n("td",[t._v("指定包含顶点着色器和片元着色器的着色器程序对象")])]),n("tr",[n("td",[t._v("name")]),n("td",[t._v("指定想要获取其存储位置的uniform变量的名称")])])])]),n("p",[n("strong",[t._v("返回值")]),t._v("：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("返回值")]),n("th",[t._v("说明")])])]),n("tbody",[n("tr",[n("td",[t._v("non-null")]),n("td",[t._v("指定uniform变量的位置")])]),n("tr",[n("td",[t._v("null")]),n("td",[t._v("指定的uniform变量不存在，或者其命名具有"),n("code",{pre:!0},[t._v("gl_")]),t._v("或者"),n("code",{pre:!0},[t._v("webgl_")]),t._v("前缀")])])])]),n("p",[n("code",{pre:!0},[t._v("gl.uniform4f(location, v0, v1, v2, v3)")])]),n("p",[t._v("将数据（v0, v1, v2, v3）传输给由location参数指定的uniform变量。")]),n("p",[n("strong",[t._v("参数")]),t._v("：")]),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("说明")])])]),n("tbody",[n("tr",[n("td",[t._v("location")]),n("td",[t._v("指定将要修改的uniform变量的存储位置")])]),n("tr",[n("td",[t._v("v0")]),n("td",[t._v("指定填充uniform变量的第一个分量的值")])]),n("tr",[n("td",[t._v("v1")]),n("td",[t._v("指定填充uniform变量的第二个分量的值")])]),n("tr",[n("td",[t._v("v2")]),n("td",[t._v("指定填充uniform变量的第三个分量的值")])]),n("tr",[n("td",[t._v("v3")]),n("td",[t._v("指定填充uniform变量的第四个分量的值")])])])]),n("p",[n("strong",[t._v("返回值")]),t._v("：无")]),n("p",[n("strong",[t._v("同族函数")]),t._v("：")]),n("p",[n("code",{pre:!0},[t._v("gl.uniform1f(location, v0)")])]),n("p",[n("code",{pre:!0},[t._v("gl.uniform2f(location, v0, v1)")])]),n("p",[n("code",{pre:!0},[t._v("gl.uniform3f(location, v0, v1, v2)")])]),n("p",[n("code",{pre:!0},[t._v("gl.uniform4f(location, v0, v1, v2, v3)")])])])}),[],!1,null,null,null);"function"==typeof v&&v(u),"function"==typeof i&&i(u);s.default=u.exports},"8e2y":function(t,s,a){t.exports=a.p+"assets/img/image-20210719133653444.048efd3a.png"},IqEh:function(t,s,a){t.exports=a.p+"assets/img/image-20210716151411732.6cb5a415.png"},PJrX:function(t,s,a){t.exports=a.p+"assets/img/image-20210716151832132.daa91dd4.png"},UQSp:function(t,s,a){"use strict";s.a={name:"VueRemarkRoot",render:function(t){return t("div",null,this.$slots.default)}}},bWZv:function(t,s){t.exports={type:"image",mimeType:"image/png",src:"/assets/static/image-20210719143521117.8ddda88.79f89241fae0df8b3276286ef1c6b1e1.png",size:{width:438,height:127},sizes:"(max-width: 438px) 100vw, 438px",srcset:["/assets/static/image-20210719143521117.8ddda88.79f89241fae0df8b3276286ef1c6b1e1.png 438w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 438 127' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fe4969eeca67a3d2b06d083204f9e485'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fe4969eeca67a3d2b06d083204f9e485)' width='438' height='127' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAATCAYAAAAgcwuHAAAACXBIWXMAAAsSAAALEgHS3X78AAAF1klEQVRYw7WYW0tVbRDHN934AcL78Bt0lTd9A%2blCjYpAsBuVzMRMMs0sT12kiBShIR6yFCNL85yWZZaZpZlaWlZ20DxkaprZaeI3vM9mtVjbtZXegYVr7z3PzP%2bZ5z/zzOiR/%2bT379/yr8XNpj8%2b/y8d89nDi3m%2bfPkiXV1d8uHDB/n69au8fv1aXrx4IY8fP5bPnz/Lw4cPpaenR548eSLT09OysLAgL1%2b%2bVH3WDgwMyKNHj1SH9caRrwdhbUdHhzx48MDrk/XPnj1TH242jJ3v37/L6Oio2vn06ZMsLy/r%2b7179%2bT58%2beqMzQ0JGNjYzIzM%2bO1qwH49euXfvH06VNpaGhQQACprq6W27dvS25urgwODkpzc7PU1dXJ9evXNTBsmKC0tbXJ5OSk3Lx5U5%2bWlhZX8Ah%2bAXX27Fm5cOGCvH37Vtrb2%2bXSpUteH0bPLQBs6uLFi1JZWak2sAX%2bq1evyo0bNzS44Lpy5Yq8efPGa9djNYLC/fv3dZPv379XQ0VFRVJaWqpgGhsb5fz58wp2dnZW%2bvr61Onw8LB8%2b/ZNA0RQCMji4qJPeprvWMOpAQq/r1690ufWrVsayKmpKVeKm99WV1c1mCUlJXpYP378ULtnzpxRTCsrK1JTU6OHC7v%2bYoAxwinyIwaQkZERpREbgjp87u/vV1oRIOgPQzo7O2V%2bfl7evXsnc3NzmjJ2gL4YwIY5LXyOj49rYLu7uxU0Nv1NAU4YW6QwGAkeOOvr6zVlSQlskg5mfxoAO8ifP396KbdWIbG%2bc5JWmjpR1skOeuSuEU6NzwYHjzUATnisNYD1hg1gMuutPhyLoJMTp8342qxbgJwA25kA6PVUeLfD8LXGjsHjBMr%2bmAhSnauqqvwqTFabTgFgvbFBXfn48aOjXV8MsH42J8%2bNUlhY6HfaeFPA37uztrZWc3%2bjfYN180YorhTPtajuL0aKp6k/vtLYLh63KFHNqfaXL1/WYoXYc3M9j9k8xRbABNUOeL02wce1ScG24vPHlk8GGKBU06CgINm2bZv2Bhs9KbPO0PXkyZOyadMmvabs1F9PDWDd9u3bJTAwUG%2bjtWz5zQBrFHt7eyUgIECCg4Pl7t27fue/GwN2796tdtPS0rRw%2baoRRt%2bXHVJy8%2bbNsmXLFqmoqHAMwJoMsFZ649BchQi0Ki4u9lZpcz0ZPfNYgdtt2a81/tL90TYbgE7Fz4jdn5VJNGEFBQXeQm31Y/CYNdaguqYAiyYmJrSDMg3JRocS%2b/fYc7qbrbo0ZbCPBsxNaKBoduw3A02VG14PJ0tvzDVEkaOdpHemqyovL5e4uDjNV7q%2b1tZWpSudGt0WKUG3RTFjWDLdI4MR9YKuy%2bQlOqZI7dy5U3t0BD3mBvxZTy4yMlKOHDminRwzihm0CAp6tOV8zw2CbkxMjL6zF3zRYmdkZGgRp9Dy1wx2BNUw2kMOpaamqhL5yIYxduLECcnOztZ3fk9OTlaDR48elT179kheXp7s3btXIiIi9GFmQFiTmZkpiYmJsmvXLgkPD5eDBw9KUlKSzhAUvZCQEO3ZkfT0dA04dpeWlry0xfahQ4e0dw8LC9PDSEhIkB07digWfouOjpbQ0FDVQe7cuSMHDhxQDAQP2/jNysqS48ePa90BJ4FiktUAQEcMsfDYsWNy6tQpjW5sbKwuzMnJ0WkwJSVFTp8%2brQE5d%2b6cnj66BIJGhr8IV9LWrVvVBg4BCwgAMeWxcQJDUBFsHz58WKKiov6i8L59%2bzS/YSbBgXGsgz3x8fGSn5%2bvWAg2geEzeLAFFvaDj/3792vQ0eEgYCosgqUaAFPomJSgIdSBFTiHMqQE8zU6165d03d0GD%2bhODrQmDw0tYMUQchLKEy%2bc08zXZr8Ng0VGyQdCBw%2b8YNPqGqKH8MLwDk5ulF0CC5M4iQZ4cvKyjTv%2bY2R2OAkrSni1DPsMDQREFMfPP/yP0Fus4C1bbV3hAibAZihpy8hn5uamjRQGxGDAYx/AC%2bZaTXtYtYkAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"}},m0VG:function(t,s,a){t.exports=a.p+"assets/img/image-20210719133935778.c737234e.png"},muQO:function(t,s,a){t.exports=a.p+"assets/img/image-20210716142856354.611da98f.png"},szRM:function(t,s,a){t.exports=a.p+"assets/img/image-20210716175857989.4debbd7f.png"}}]);